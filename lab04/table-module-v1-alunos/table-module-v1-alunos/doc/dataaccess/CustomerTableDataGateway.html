<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_77) on Mon Mar 06 23:48:53 WET 2017 -->
<title>CustomerTableDataGateway</title>
<meta name="date" content="2017-03-06">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CustomerTableDataGateway";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../dataaccess/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CustomerTableDataGateway.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../dataaccess/ConfigurationTableDataGateway.html" title="class in dataaccess"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../dataaccess/Persistence.html" title="class in dataaccess"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?dataaccess/CustomerTableDataGateway.html" target="_top">Frames</a></li>
<li><a href="CustomerTableDataGateway.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">dataaccess</div>
<h2 title="Class CustomerTableDataGateway" class="title">Class CustomerTableDataGateway</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../dataaccess/TableDataGateway.html" title="class in dataaccess">dataaccess.TableDataGateway</a></li>
<li>
<ul class="inheritance">
<li>dataaccess.CustomerTableDataGateway</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">CustomerTableDataGateway</span>
extends <a href="../dataaccess/TableDataGateway.html" title="class in dataaccess">TableDataGateway</a></pre>
<div class="block">Table Data Gateway for the customer's table

 Remarks:
 1. The SQL string should not be constants in this class. We illustrated
 such a scenario in version 2 of the RowDataGateway persistence package 
 (used in conjunction with the Transaction script pattern).
 
 2. In the TableDataGateway pattern, data is return as a result set, instead
 a list of objects, one per table row. I'm using the ResultSet class from the
 JDBC API. 
 
 3. We are using public constants to refer to table field names. Since TableDataGateway
 objects return result sets, the business layer must access these result sets in order to 
 extract information. There are two ways of accessing fields via in result set: by its number
 in the result set row or by its name. I prefer to use names instead of numbers, since
 it is more descriptive that a number, and, after changing the database schema, 
 it minimises the changes impact (only field that changed name need to be altered).
 . 
 These constants allow us to eliminate the coupling of field names in the business layer.</div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.2 (5/10/2014)</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>fmartins, antonialopes</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../dataaccess/TableData.html" title="class in dataaccess">TableData</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../dataaccess/CustomerTableDataGateway.html#find-int-">find</a></span>(int&nbsp;id)</code>
<div class="block">Gets a client by its Id number</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../dataaccess/TableData.html" title="class in dataaccess">TableData</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../dataaccess/CustomerTableDataGateway.html#findByVATNumber-int-">findByVATNumber</a></span>(int&nbsp;vatNumber)</code>
<div class="block">Fetches a customer given its VAT number and returns a result set with the
 result.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../dataaccess/CustomerTableDataGateway.html#insert-int-java.lang.String-int-datatypes.DiscountType-">insert</a></span>(int&nbsp;vat,
      java.lang.String&nbsp;designation,
      int&nbsp;phoneNumber,
      datatypes.DiscountType&nbsp;discountType)</code>
<div class="block">Add a new client to the database provided that its VAT number 
 is not in the database</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../dataaccess/CustomerTableDataGateway.html#readDesignation-dataaccess.TableData.Row-">readDesignation</a></span>(<a href="../dataaccess/TableData.Row.html" title="class in dataaccess">TableData.Row</a>&nbsp;r)</code>
<div class="block">Reads from a result set the value of the corresponding column</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>datatypes.DiscountType</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../dataaccess/CustomerTableDataGateway.html#readDiscountType-dataaccess.TableData.Row-">readDiscountType</a></span>(<a href="../dataaccess/TableData.Row.html" title="class in dataaccess">TableData.Row</a>&nbsp;r)</code>
<div class="block">Reads from a result set the value of the corresponding column</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../dataaccess/CustomerTableDataGateway.html#readID-dataaccess.TableData.Row-">readID</a></span>(<a href="../dataaccess/TableData.Row.html" title="class in dataaccess">TableData.Row</a>&nbsp;r)</code>
<div class="block">Reads from a result set the value of the corresponding column</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../dataaccess/CustomerTableDataGateway.html#readPhoneNumber-dataaccess.TableData.Row-">readPhoneNumber</a></span>(<a href="../dataaccess/TableData.Row.html" title="class in dataaccess">TableData.Row</a>&nbsp;r)</code>
<div class="block">Reads from a result set the value of the corresponding column</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../dataaccess/CustomerTableDataGateway.html#readVatNumber-dataaccess.TableData.Row-">readVatNumber</a></span>(<a href="../dataaccess/TableData.Row.html" title="class in dataaccess">TableData.Row</a>&nbsp;r)</code>
<div class="block">Reads from a result set the value of the corresponding column</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="insert-int-java.lang.String-int-datatypes.DiscountType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre>public&nbsp;void&nbsp;insert(int&nbsp;vat,
                   java.lang.String&nbsp;designation,
                   int&nbsp;phoneNumber,
                   datatypes.DiscountType&nbsp;discountType)
            throws <a href="../dataaccess/PersistenceException.html" title="class in dataaccess">PersistenceException</a></pre>
<div class="block">Add a new client to the database provided that its VAT number 
 is not in the database</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>vat</code> - The VAT number of the customer</dd>
<dd><code>designation</code> - The customer's name</dd>
<dd><code>phoneNumber</code> - The customer's phone number</dd>
<dd><code>discountType</code> - The discount type for the customer</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../dataaccess/PersistenceException.html" title="class in dataaccess">PersistenceException</a></code> - When there is an error interacting with the database</dd>
</dl>
</li>
</ul>
<a name="find-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>find</h4>
<pre>public&nbsp;<a href="../dataaccess/TableData.html" title="class in dataaccess">TableData</a>&nbsp;find(int&nbsp;id)
               throws <a href="../dataaccess/PersistenceException.html" title="class in dataaccess">PersistenceException</a></pre>
<div class="block">Gets a client by its Id number</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the client to search for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The result set of the query</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../dataaccess/PersistenceException.html" title="class in dataaccess">PersistenceException</a></code> - When there is an internal error interaction with the database</dd>
</dl>
</li>
</ul>
<a name="findByVATNumber-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findByVATNumber</h4>
<pre>public&nbsp;<a href="../dataaccess/TableData.html" title="class in dataaccess">TableData</a>&nbsp;findByVATNumber(int&nbsp;vatNumber)
                          throws <a href="../dataaccess/PersistenceException.html" title="class in dataaccess">PersistenceException</a></pre>
<div class="block">Fetches a customer given its VAT number and returns a result set with the
 result. Notice that it is fundamentally different from CustomerRowDataGateway
 that returns a CustomerRowDataGateway object, instead. 
 If there is some problem accessing the database a PersistenceException is 
 thrown.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>vatNumber</code> - The VAT number of the customer to fetch from the database</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The CustomerRowGateway corresponding to the customer with the vat number.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../dataaccess/PersistenceException.html" title="class in dataaccess">PersistenceException</a></code> - In case a database error is thrown</dd>
</dl>
</li>
</ul>
<a name="readID-dataaccess.TableData.Row-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readID</h4>
<pre>public&nbsp;int&nbsp;readID(<a href="../dataaccess/TableData.Row.html" title="class in dataaccess">TableData.Row</a>&nbsp;r)
           throws <a href="../dataaccess/PersistenceException.html" title="class in dataaccess">PersistenceException</a></pre>
<div class="block">Reads from a result set the value of the corresponding column</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>r</code> - The row to get the information from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the conversion of the value read from the result set</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../dataaccess/PersistenceException.html" title="class in dataaccess">PersistenceException</a></code> - When there is an error interacting with the database</dd>
</dl>
</li>
</ul>
<a name="readVatNumber-dataaccess.TableData.Row-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readVatNumber</h4>
<pre>public&nbsp;int&nbsp;readVatNumber(<a href="../dataaccess/TableData.Row.html" title="class in dataaccess">TableData.Row</a>&nbsp;r)
                  throws <a href="../dataaccess/PersistenceException.html" title="class in dataaccess">PersistenceException</a></pre>
<div class="block">Reads from a result set the value of the corresponding column</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>r</code> - The row to get the information from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the conversion of the value read from the result set</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../dataaccess/PersistenceException.html" title="class in dataaccess">PersistenceException</a></code> - When there is an error in the reading or conversion</dd>
</dl>
</li>
</ul>
<a name="readDesignation-dataaccess.TableData.Row-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readDesignation</h4>
<pre>public&nbsp;java.lang.String&nbsp;readDesignation(<a href="../dataaccess/TableData.Row.html" title="class in dataaccess">TableData.Row</a>&nbsp;r)
                                 throws <a href="../dataaccess/PersistenceException.html" title="class in dataaccess">PersistenceException</a></pre>
<div class="block">Reads from a result set the value of the corresponding column</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>r</code> - The row to get the information from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the conversion of the value read from the result set</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../dataaccess/PersistenceException.html" title="class in dataaccess">PersistenceException</a></code> - When there is an error in the reading or conversion</dd>
</dl>
</li>
</ul>
<a name="readPhoneNumber-dataaccess.TableData.Row-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readPhoneNumber</h4>
<pre>public&nbsp;int&nbsp;readPhoneNumber(<a href="../dataaccess/TableData.Row.html" title="class in dataaccess">TableData.Row</a>&nbsp;r)
                    throws <a href="../dataaccess/PersistenceException.html" title="class in dataaccess">PersistenceException</a></pre>
<div class="block">Reads from a result set the value of the corresponding column</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>r</code> - The row to get the information from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the conversion of the value read from the result set</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../dataaccess/PersistenceException.html" title="class in dataaccess">PersistenceException</a></code> - When there is an error in the reading or conversion</dd>
</dl>
</li>
</ul>
<a name="readDiscountType-dataaccess.TableData.Row-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>readDiscountType</h4>
<pre>public&nbsp;datatypes.DiscountType&nbsp;readDiscountType(<a href="../dataaccess/TableData.Row.html" title="class in dataaccess">TableData.Row</a>&nbsp;r)
                                        throws <a href="../dataaccess/PersistenceException.html" title="class in dataaccess">PersistenceException</a></pre>
<div class="block">Reads from a result set the value of the corresponding column</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>r</code> - The row to get the information from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the conversion of the value read from the result set</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../dataaccess/PersistenceException.html" title="class in dataaccess">PersistenceException</a></code> - When there is an error in the reading or conversion</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../dataaccess/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CustomerTableDataGateway.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../dataaccess/ConfigurationTableDataGateway.html" title="class in dataaccess"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../dataaccess/Persistence.html" title="class in dataaccess"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?dataaccess/CustomerTableDataGateway.html" target="_top">Frames</a></li>
<li><a href="CustomerTableDataGateway.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
